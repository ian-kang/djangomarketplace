{% extends 'navbar.html' %}
{% load static %}

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>{% block title %}{% endblock %}</title>
    {% block staticfiles %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js" integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <script src="{% static 'js/bootstrap-datetimepicker.js' %}"></script>
    <script src="{% static 'js/itemlist.js' %}"></script>
    <link rel="stylesheet" href="{% static 'css/itemlist.css' %}" type="text/css" />
    <link rel="stylesheet" href="{% static 'css/bootstrap-datetimepicker.css' %}" type="text/css" />

    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>
    {% endblock %}
</head>

<body>
    {% block wrapper %}
    <div class="wrapper">
        <!-- Sidebar  -->
        <nav id="sidebar">

            <ul class="list-unstyled components">
                <li>
                    <a href="#itemMenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Item type</a>
                    <ul class="collapse list-unstyled" id="itemMenu">
                        <li>
                            <a href="#">Electronics</a>
                        </li>
                        <li>
                            <a href="#">Textbooks</a>
                        </li>
                        <li>
                            <a href="#">Accessories</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#locationMenu">Include Services</a>
                <li>
                  <a href="#" id = "datepicker">Date listed</a>
                </li>
                    
            </ul>
        </nav>
        {% endblock %}
        {% block pagecontent %}
        <!-- Page Content  -->
        <div id="content">
            <div id="modifier-wrapper"> <!-- Things that modify the listing should results go in here -->

                <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="defaultUnchecked">
                        <label class="custom-control-label" for="defaultUnchecked">Condensed view</label>
                </div>
                
            
            </div>
			
			{% if itemlist %}
			<table class="table table-hover">
				<tr><td>Image</td><td>Item</td><td>Price</td><td>Posted By</td></tr>
				{% for item in itemlist %}
				<tr onclick="location.href='/{{item.acct}}/{{item.listing_id}}'"> <!-- Add an onclick event to go to /profile/listing_id -->
					<td>
						<img class = "listImage"
						style="width: 200px; height: 200px;"
 						src="{{item.images.url}}"/></td>
					<td>{{item.title}}</td>
                    <td>{{item.price}}</td>
                    <td>{{item.acct}}</td>
				</tr>
				{% endfor %}
			</table>
			<!-------------------- /New -------------------->
				{% else %}
					<p> No listings available</p>
				{% endif %}	
        </div>
        
  
    </div>
    {% endblock %}
    <script type="text/javascript">
      $("#datepicker").datetimepicker({
        format: "dd MM yyyy",
        autoclose: true,
        todayBtn: true,
        minuteStep: 10
      });
  </script>      
</body>

</html>
